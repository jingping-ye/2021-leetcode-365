# 2021-02-04

é¢˜å·ï¼š1013

## æˆ‘çš„è§£æ³•

```js
/**
 * @param {number[]} arr
 * @return {boolean}
 * è¾“å…¥ï¼šæ•´æ•°æ•°ç»„A
 * è¾“å…¥æ¡ä»¶ï¼š
 *  - Z(A[0]~Z[i]]) === Z[A[i+1]~A[j-1]]===Z[A[j] + A[A.length-1]];
 *  - i+1<j
 *  - 3<=A.length<=50000
 *  - -10^4 <= A[i] <= 10^4
 * è¾“å‡ºï¼šBoolean æ˜¯å¦å¯ä»¥åˆ’åˆ†ä¸ºä¸‰ä¸ªå’Œç›¸ç­‰çš„éƒ¨åˆ†
 * æ€è·¯ï¼š
 *  1. æ‰¾å‡ºåˆ†å‰²ç‚¹
 *  2. æ‰¾å‡ºç¬¬ä¸€ä¸ªåˆ†å‰²ç‚¹ï¼Œå·¦ä¾§æ•°ç»„çš„å€¼æ˜¯å³ä¾§æ•°ç»„å€¼çš„ä¸€åŠ
 *  3. å¦‚æœèƒ½æ‰¾åˆ°ç¬¬ä¸€ä¸ªåˆ†å‰²ç‚¹ï¼Œé‚£ä¹ˆåœ¨å³ä¾§æ•°ç»„ä¸­æ‰¾å‡ºç¬¬äºŒä¸ªåˆ†å‰²ç‚¹
 *  - å·¦ä¾§æ•°ç»„å’Œå³ä¾§æ•°ç»„çš„å’Œç›¸ç­‰ã€‚
 */
var canThreePartsEqualSum = function(arr) {
    let arrSum = arr.reduce((prev, next)=> prev + next);
    let firstIntervalSum = 0;
    for(let i=0; i<arr.length-2; i++){
        firstIntervalSum+=arr[i];
        let rightIntervalSum = arrSum - firstIntervalSum;
        if(firstIntervalSum*2 === rightIntervalSum){
            let secondIntervalSum = 0;
            for(let j=i+1; j<arr.length-1; j++){
                secondIntervalSum += arr[j];
                if(secondIntervalSum === firstIntervalSum){
                    return true;
                }
            }
        }
    }
    return false;
};
```

æ‰§è¡Œç”¨æ—¶ï¼š96 ms, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†68.92%çš„ç”¨æˆ·

å†…å­˜æ¶ˆè€—ï¼š42.8 MB, åœ¨æ‰€æœ‰ JavaScript æäº¤ä¸­å‡»è´¥äº†46.62%çš„ç”¨æˆ·

## æœ€å¿«æ‰§è¡Œç”¨æ—¶

```js
/**
 * @param {number[]} A
 * @return {boolean}
 * æ‰¾å‡ºç¬¬ä¸€ä¸ªåˆ†å‰²ç‚¹ï¼šå’Œç­‰äºå¹³å‡å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œç›´æ¥è¿”å›false
 * æ‰¾å‡ºç¬¬äºŒä¸ªåˆ†å‰²ç‚¹ï¼šå¯ä»¥åˆ©ç”¨ç¬¬ä¸€æ¬¡å’Œçš„å˜é‡ï¼Œç»§ç»­ç›¸åŠ ï¼Œåˆ¤æ–­ç¬¬ä¸€åˆ†å‰²ç‚¹å’Œç¬¬äºŒä¸ªåˆ†å‰²ç‚¹çš„å’Œç­‰äºå¹³å‡å€¼*2ï¼Œæ˜¯ï¼Œè¿”å›  * true,å¦åˆ™è¿”å›false
 * å¼ºğŸ‘ï¼Œé‡è¦çš„æ˜¯å‡å°‘äº†åµŒå¥—ï¼Œé™ä½äº†ç†è§£ä»£ç çš„å¤æ‚åº¦å’Œä»£ç æœ¬èº«çš„å¤æ‚åº¦
 */
var canThreePartsEqualSum = function(A) {
    let sum = A.reduce((total,value) => total + value,0);
    if(sum%3 != 0) {
        return false;
    }
    let avg = sum / 3;
    let sumBlock = 0;
    let i = 0;
    while(i < A.length) {
        sumBlock += A[i];
        if(sumBlock == avg) {
            break;
        }
        i++;
    }
    if(sumBlock != avg) {
        return false
    }

    i += 1;
    while(i  < A.length - 1) {
        sumBlock += A[i];
        if(sumBlock == avg * 2) {
            return true;
        }
        i++;
    }

    return false;

};
```

## æœ€å°å†…å­˜

```js
/**
 * @param {number[]} arr
 * @return {boolean}
 */
var canThreePartsEqualSum = function(arr) {
  let sum = arr.reduce((t, c) => t + c)
  if (sum % 3) return false
  const targetSum = sum / 3
  let subSum = 0
  let l = arr.length
  let i = 0
  while(i < l) {
    subSum += arr[i]
    i++
    if (subSum === targetSum) break
  }
  if (subSum !== targetSum) {
    return false
  }
  while (i < l - 1) {
    subSum += arr[i]
    i++
    if (subSum === targetSum * 2) {
      return true
    }
  }
  return false
};
```

