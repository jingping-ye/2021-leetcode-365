# 2021-03-16

## 1.[最长递增子序列](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

题号：#300

### 我的解答（大佬的）

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var lengthOfLIS = function(nums) {
    // 全部初始化为1
  let dp = new Array(nums.length).fill(1);
  for(let i =0; i<nums.length; i++){
    for(let j=0; j<i; j++){
      if(nums[i]> nums[j]){
        dp[i] = Math.max(dp[i], dp[j] +1);
      }
    }
  }

  let res = 0;
  // 重新遍历数组，找到最长递增子序列长度
  for(let i=0; i<dp.length; i++){
    res = Math.max(res, dp[i]);
  }
  return res;
};
```

执行用时：228 ms, 在所有 JavaScript 提交中击败了23.16%的用户

内存消耗：39.5 MB, 在所有 JavaScript 提交中击败了47.01%的用户

### 最少耗时

> 二分法

```js
/**
 * @param {number[]} nums
 * @return {number}
 */

// 分治
var lengthOfLIS = function(nums) {
    if (nums.length < 2) return nums.length;

    var cell = [nums[0]];

    for (let i = 1; i < nums.length; i++) {
        if (nums[i] > cell[cell.length - 1]) {
            cell.push(nums[i])
        } else {
            var l = 0, r = cell.length - 1;
            var minIndex = 0;

            while(l < r) {
                var mid = (l + r) >> 1;
                
                if (cell[mid] < nums[i]) {
                    l = mid + 1;
                } else {
                    r = mid;
                }
            }
            cell[l] = nums[i];
        }
    }

    return cell.length;
};


// DP
// var lengthOfLIS = function(nums) {
//     var dp = [1];
//     var result = 1;

//     var max = function(currIndex) {
//         var v = 0;
//         for(let i = 0; i < currIndex; i++) {
//             if (nums[currIndex] > nums[i]) {
//                 v = Math.max(v, dp[i])
//             }
//         }
//         return v;
//     }

//     for(let i = 1; i < nums.length; i++) {
//         dp[i] = max(i) + 1;
//         result = Math.max(result, dp[i]);
//     }

//     return result
// };

```

### 最小内存

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var lengthOfLIS = function(nums) {
    if(nums.length===1){
        return 1
    }
    var dp = new Array(nums.length).fill(1)

    for(let i=1;i<nums.length;i++){
        for(let j=0;j<i;j++){
            if(nums[i]>nums[j]){
                dp[i]=Math.max(dp[i],1+dp[j])
            }
        }
    }
    return Math.max(...dp)
};
```

